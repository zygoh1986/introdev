{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zhangyu/Documents/barcodescanner-app/barcodescanner-app/barcodescanner/src/components/Scanner/Scanner.js\";\nimport React, { Component, Fragment } from 'react';\nimport Quagga from 'quagga';\nimport './Scanner.css';\n\nclass Scanner extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nocamera: false\n    };\n    this.onDetect = this.onDetect.bind(this);\n  }\n\n  componentDidMount() {\n    Quagga.init({\n      inputStream: {\n        name: \"Live\",\n        type: \"LiveStream\",\n        constraints: {\n          width: '790',\n          height: '490'\n        },\n        numberOfWorkers: navigator.hardwareConcurrency,\n        target: document.querySelector('#barcodeScan')\n      },\n      locate: true,\n      decoder: {\n        readers: [\"code_128_reader\", \"upc_reader\", \"upc_e_reader\"]\n      }\n    }, function (err) {\n      if (err) {\n        return;\n      }\n\n      Quagga.start();\n    });\n    Quagga.onDetected(this.onDetect);\n  }\n\n  onDetect(res) {\n    console.log(res.codeResult.code);\n    Quagga.stop();\n    Quagga.offProcessed();\n    this.props.onBarcodeDetect(res.codeResult.code);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"barcodeScan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Scanner;","map":{"version":3,"sources":["/Users/zhangyu/Documents/barcodescanner-app/barcodescanner-app/barcodescanner/src/components/Scanner/Scanner.js"],"names":["React","Component","Fragment","Quagga","Scanner","constructor","props","state","nocamera","onDetect","bind","componentDidMount","init","inputStream","name","type","constraints","width","height","numberOfWorkers","navigator","hardwareConcurrency","target","document","querySelector","locate","decoder","readers","err","start","onDetected","res","console","log","codeResult","code","stop","offProcessed","onBarcodeDetect","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,eAAP;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;AAE9BI,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACVC,MAAAA,QAAQ,EAAE;AADA,KAAZ;AAGA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAGDC,EAAAA,iBAAiB,GAAE;AACjBR,IAAAA,MAAM,CAACS,IAAP,CAAY;AACVC,MAAAA,WAAW,EAAE;AACXC,QAAAA,IAAI,EAAE,MADK;AAEXC,QAAAA,IAAI,EAAE,YAFK;AAGXC,QAAAA,WAAW,EAAE;AACXC,UAAAA,KAAK,EAAE,KADI;AAEXC,UAAAA,MAAM,EAAE;AAFG,SAHF;AAOXC,QAAAA,eAAe,EAAEC,SAAS,CAACC,mBAPhB;AAQXC,QAAAA,MAAM,EAAEC,QAAQ,CAACC,aAAT,CAAuB,cAAvB;AARG,OADH;AAWVC,MAAAA,MAAM,EAAE,IAXE;AAYVC,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAE,CAAC,iBAAD,EAAoB,YAApB,EAAkC,cAAlC;AADF;AAZC,KAAZ,EAeG,UAAUC,GAAV,EAAe;AAChB,UAAIA,GAAJ,EAAS;AACP;AACD;;AACDzB,MAAAA,MAAM,CAAC0B,KAAP;AACD,KApBD;AAqBA1B,IAAAA,MAAM,CAAC2B,UAAP,CAAkB,KAAKrB,QAAvB;AAED;;AAEDA,EAAAA,QAAQ,CAACsB,GAAD,EAAK;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,UAAJ,CAAeC,IAA3B;AACAhC,IAAAA,MAAM,CAACiC,IAAP;AACAjC,IAAAA,MAAM,CAACkC,YAAP;AACA,SAAK/B,KAAL,CAAWgC,eAAX,CAA2BP,GAAG,CAACG,UAAJ,CAAeC,IAA1C;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,QAAD;AAAA,6BACM;AAAK,QAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAlD6B;;AAqDhC,eAAenC,OAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport Quagga from 'quagga'\nimport './Scanner.css'\n\nclass Scanner extends Component {\n\n  constructor(props){\n    super(props);\n    this.state ={\n      nocamera: false\n    }\n    this.onDetect = this.onDetect.bind(this)\n  }\n\n  \n  componentDidMount(){\n    Quagga.init({\n      inputStream: {\n        name: \"Live\",\n        type: \"LiveStream\",\n        constraints: {\n          width: '790',\n          height: '490'\n        },\n        numberOfWorkers: navigator.hardwareConcurrency,\n        target: document.querySelector('#barcodeScan')\n      },\n      locate: true,\n      decoder: {\n        readers: [\"code_128_reader\", \"upc_reader\", \"upc_e_reader\"]\n      }\n    }, function (err) {\n      if (err) {\n        return \n      }\n      Quagga.start()\n    })\n    Quagga.onDetected(this.onDetect)\n    \n  }\n\n  onDetect(res){\n    console.log(res.codeResult.code)\n    Quagga.stop()\n    Quagga.offProcessed()\n    this.props.onBarcodeDetect(res.codeResult.code)\n  }\n\n  render() {\n    return (\n      <Fragment>\n            <div id=\"barcodeScan\"></div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Scanner"]},"metadata":{},"sourceType":"module"}