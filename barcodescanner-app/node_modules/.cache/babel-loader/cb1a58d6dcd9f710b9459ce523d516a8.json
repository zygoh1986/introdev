{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/zhangyu/Documents/barcodescanner-app/barcodescanner-app/barcodescanner/src/store/actions/scannedItems.js\";\n//import {APIKEY, URL_PATH, URL_EXTENSION} from '../../assets/config'\n//import fire from '../../assets/config'\nimport React, { useState } from 'react';\nimport firebase from \"../../assets/config\";\nexport const startScanning = () => {\n  return {\n    type: \"START_SCANNING\"\n  };\n};\nexport const clearScanned = () => {\n  return {\n    type: 'CLEAR_SCANNED'\n  };\n};\nexport const setItem = i => {\n  return {\n    type: 'SET_ITEM',\n    payload: i\n  };\n};\nexport const deleteItem = i => {\n  return {\n    type: 'DELETE_ITEM',\n    payload: i\n  };\n};\nexport const processBarcode = barcode => {\n  return dispatch => {\n    var _s = $RefreshSig$();\n\n    dispatch(spinnerOn());\n\n    function CheckBarCode() {\n      _s();\n\n      const [data, setData] = useState([]);\n      const ref = firebase.firestore().collection(\"data\");\n      console.log(ref);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Item \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), data.map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: data.income\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, data.barcode, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n    } // //let url = URL_PATH + barcode + URL_EXTENSION + APIKEY\n    // let req = new Request(fire , {\n    //   headers: {\n    //     'Access-Control-Allow-Origin': 'http://localhost:3000'\n    //   },\n    //   mode: 'no-cors'\n    // })\n    // let product = null\n    // fetch(req)\n    // .catch(err => console.log('error', err))\n    // .then(res => res.json())\n    //  .then(res => {\n    //  if (res.status !== 200) {\n    //    return res.status\n    //  }\n    //  })\n    // // .then(res => {\n    // //   //console.log(res.status)\n    // //   if(res.status !== 200){\n    // //     return {\n    // //       resStatus: res.status\n    // //     }\n    // //   } else if (res.status === 200) {\n    // //     return res.json()\n    // //   }\n    // // })\n    //  .then(parsedRes => {\n    //    if(parsedRes.resStatus !== 200){\n    //      parsedRes.resStatus === 0 ? dispatch(invalidBarcode('noAPI')) : dispatch(invalidBarcode('invalid'))\n    // } else {\n    //     product = {\n    //       names: parsedRes.data[0].names,\n    //       description: parsedRes.data[0].description,\n    //       income: parsedRes.data[0].income,\n    //       // product_name: parsedRes.products[0].product_name,\n    //       // product_image: parsedRes.products[0].images[0],\n    //       // manufacturer: parsedRes.products[0].manufacturer,\n    //       // brand: parsedRes.products[0].brand,\n    //       // category: parsedRes.products[0].category,\n    //       // description: parsedRes.products[0].description,\n    //     }\n    //     dispatch(productDetected(product))\n    //   } \n    // })\n\n\n    _s(CheckBarCode, \"hhQqYsxLIv1exGOzUvDGOVv6fXw=\");\n  };\n};\nexport const spinnerOn = () => {\n  return {\n    type: 'SPINNER_ON'\n  };\n};\nexport const productDetected = product => {\n  return {\n    type: 'PRODUCT_DETECTED',\n    payload: product\n  };\n};\nexport const invalidBarcode = err => {\n  let errText = err === 'noAPI' ? 'NO_API_KEY' : 'INVALID_BARCODE';\n  return {\n    type: errText\n  };\n};","map":{"version":3,"sources":["/Users/zhangyu/Documents/barcodescanner-app/barcodescanner-app/barcodescanner/src/store/actions/scannedItems.js"],"names":["React","useState","firebase","startScanning","type","clearScanned","setItem","i","payload","deleteItem","processBarcode","barcode","dispatch","spinnerOn","CheckBarCode","data","setData","ref","firestore","collection","console","log","map","name","income","productDetected","product","invalidBarcode","err","errText"],"mappings":";;AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,qBAArB;AAGA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJI;AAML,OAAO,MAAMC,YAAY,GAAG,MAAM;AAChC,SAAO;AACLD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAME,OAAO,GAAIC,CAAD,IAAO;AAC5B,SAAO;AACLH,IAAAA,IAAI,EAAE,UADD;AAELI,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAME,UAAU,GAAIF,CAAD,IAAO;AAC/B,SAAO;AACLH,IAAAA,IAAI,EAAE,aADD;AAELI,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,cAAc,GAAIC,OAAD,IAAa;AACzC,SAAOC,QAAQ,IAAI;AAAA;;AACjBA,IAAAA,QAAQ,CAACC,SAAS,EAAV,CAAR;;AAEA,aAASC,YAAT,GAAwB;AAAA;;AACxB,YAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,YAAMgB,GAAG,GAAGf,QAAQ,CAACgB,SAAT,GAAqBC,UAArB,CAAgC,MAAhC,CAAZ;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AAEA,0BACE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGF,IAAI,CAACO,GAAL,CAAUP,IAAD,iBACV;AAAA,kCACE;AAAA,sBAAKA,IAAI,CAACQ;AAAV;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAKR,IAAI,CAACS;AAAV;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA,WAAUT,IAAI,CAACJ,OAAf;AAAA;AAAA;AAAA;AAAA,gBADC,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAWK,KApBY,CAuBjB;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAxEiB,OAGRG,YAHQ;AAyElB,GAzED;AA0EC,CA3EI;AA6EP,OAAO,MAAMD,SAAS,GAAG,MAAM;AAC7B,SAAO;AACLT,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJM;AAOP,OAAO,MAAMqB,eAAe,GAAIC,OAAD,IAAa;AAC1C,SAAO;AACLtB,IAAAA,IAAI,EAAE,kBADD;AAELI,IAAAA,OAAO,EAAEkB;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMC,cAAc,GAAIC,GAAD,IAAS;AACrC,MAAIC,OAAO,GAAGD,GAAG,KAAK,OAAR,GAAkB,YAAlB,GAAiC,iBAA/C;AACA,SAAO;AACLxB,IAAAA,IAAI,EAAEyB;AADD,GAAP;AAGH,CALQ","sourcesContent":["//import {APIKEY, URL_PATH, URL_EXTENSION} from '../../assets/config'\n//import fire from '../../assets/config'\nimport React, { useState } from 'react';\nimport firebase from \"../../assets/config\"\n\n\nexport const startScanning = () => {\n    return {\n      type: \"START_SCANNING\"\n    }\n  }\n  \n  export const clearScanned = () => {\n    return {\n      type: 'CLEAR_SCANNED'\n    }\n  }\n  \n  export const setItem = (i) => {\n    return {\n      type: 'SET_ITEM',\n      payload: i\n    }\n  }\n  \n  export const deleteItem = (i) => {\n    return {\n      type: 'DELETE_ITEM',\n      payload: i\n    }\n  }\n  \n  export const processBarcode = (barcode) => {\n    return dispatch => {\n      dispatch(spinnerOn())\n\n      function CheckBarCode() {\n      const [data, setData] = useState([]);\n      const ref = firebase.firestore().collection(\"data\");\n\n      console.log(ref);\n\n      return (\n        <div>\n          <h1> Item </h1>\n          {data.map((data) => (\n          <div key={data.barcode}> \n            <h2>{data.name}</h2>\n            <h2>{data.income}</h2>\n          </div>\n          ))}\n        </div>\n      )\n          }\n      \n      \n      // //let url = URL_PATH + barcode + URL_EXTENSION + APIKEY\n      \n      // let req = new Request(fire , {\n      //   headers: {\n      //     'Access-Control-Allow-Origin': 'http://localhost:3000'\n      //   },\n      //   mode: 'no-cors'\n      // })\n      \n      // let product = null\n      // fetch(req)\n      // .catch(err => console.log('error', err))\n      // .then(res => res.json())\n      //  .then(res => {\n      //  if (res.status !== 200) {\n      //    return res.status\n      //  }\n      //  })\n\n      // // .then(res => {\n      // //   //console.log(res.status)\n      // //   if(res.status !== 200){\n      // //     return {\n      // //       resStatus: res.status\n      // //     }\n      // //   } else if (res.status === 200) {\n      // //     return res.json()\n      // //   }\n      // // })\n      \n\n      //  .then(parsedRes => {\n      //    if(parsedRes.resStatus !== 200){\n      //      parsedRes.resStatus === 0 ? dispatch(invalidBarcode('noAPI')) : dispatch(invalidBarcode('invalid'))\n           \n      // } else {\n      //     product = {\n      //       names: parsedRes.data[0].names,\n      //       description: parsedRes.data[0].description,\n      //       income: parsedRes.data[0].income,\n      //       // product_name: parsedRes.products[0].product_name,\n      //       // product_image: parsedRes.products[0].images[0],\n      //       // manufacturer: parsedRes.products[0].manufacturer,\n      //       // brand: parsedRes.products[0].brand,\n      //       // category: parsedRes.products[0].category,\n      //       // description: parsedRes.products[0].description,\n      //     }\n      //     dispatch(productDetected(product))\n      //   } \n      // })\n    }\n    }\n  \n  export const spinnerOn = () => {\n    return {\n      type: 'SPINNER_ON'\n    }\n  }\n    \n    \n  export const productDetected = (product) => {\n    return {\n      type: 'PRODUCT_DETECTED',\n      payload: product\n    }\n  }\n  \n  export const invalidBarcode = (err) => {\n    let errText = err === 'noAPI' ? 'NO_API_KEY' : 'INVALID_BARCODE'\n    return {\n      type: errText,\n    }\n}\n"]},"metadata":{},"sourceType":"module"}